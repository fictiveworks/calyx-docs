---
layout: default
title: Results
permalink: /guides/results/
---

# Generating Results

## Result objects

Results are generated by calling `#generate` on the grammar instance. Results are immutable objects representing the unique randomized output from evaluating the grammar.

```ruby
grammar = Calyx::Grammar.new do
  start "Where is the green sheep?"
end

result = grammar.generate
# => Calyx::Result
```

The core accessor methods on the result are:

- `#text`
- `#tree`

Results can only be deterministically generated by seeding the random number generator.

## Accessing the flattened text string

The `#text` method of the result provides access to the flattened text string generated by the grammar.

```ruby
result = grammar.generate

result.text
# => "Where is the green sheep?"
```

`#text` is aliased to the `#to_s` method so result objects can be concatenated and interpolated within other strings directly.

```ruby
result = grammar.generate

templated = "Q: #{result}"
# => "Q: Where is the green sheep?"
```

## Accessing the generated tree

The `#tree` method of the result provides access to the raw generated tree structure without being flattened into a string.

The tree is encoded as an array of nested arrays, with the leading symbols labeling the choices and rules selected, and the trailing terminal leaves encoding string values.

This is related to the concept of [s-expressions](https://en.wikipedia.org/wiki/S-expression). Itâ€™s a fairly speculative feature at this stage, but it leads to some interesting possibilities.

```ruby
result = grammar.generate

result.tree
# => [:start, [:choice, [:concat, [[:atom, "Where is the green sheep?"]]]]]
```
